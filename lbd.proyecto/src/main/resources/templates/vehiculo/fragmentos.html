<!DOCTYPE html>
<html data-bs-theme="dark" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml">

<head th:replace="~{layout/template-new :: head}">
    <title>COMAVI</title>
</head>

<body>
    <!-- Seccion del Titulo -->
    <section th:fragment="titulo-agregar">
        <div class="py-2 text-center">
            <svg class="d-block mx-auto mb-2" width="72px" height="72px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.78799 3C5.96948 2.99999 5.29393 2.99998 4.74393 3.04565C4.17258 3.0931 3.64774 3.19496 3.1561 3.45035C2.42553 3.82985 1.82985 4.42553 1.45035 5.1561C1.19496 5.64774 1.0931 6.17258 1.04565 6.74393C0.999977 7.29393 0.999988 7.96946 1 8.78798V15C1 16.9138 2.344 18.5136 4.13963 18.9072C4.52413 20.1206 5.65937 21 7 21C8.30622 21 9.41746 20.1652 9.8293 19H15.1707C15.5825 20.1652 16.6938 21 18 21C19.4031 21 20.5812 20.0368 20.9092 18.7355C22.0899 18.2016 22.849 16.9282 22.6403 15.5506L22.5007 14.6294C22.1412 12.2568 21.2527 9.99549 19.9009 8.01285L19.7194 7.74665C18.9743 6.65384 17.7372 6 16.4145 6H15C14.9494 6 14.8992 6.00188 14.8495 6.00558C14.7854 5.71074 14.6911 5.42833 14.5497 5.1561C14.1702 4.42553 13.5745 3.82985 12.8439 3.45035C12.3523 3.19496 11.8274 3.0931 11.2561 3.04565C10.7061 2.99998 10.0305 2.99999 9.21202 3H6.78799ZM15 8.71577C15 8.73971 15 8.76377 15 8.78795V17H15.1707C15.5825 15.8348 16.6938 15 18 15C19.089 15 20.0425 15.5803 20.5682 16.4485C20.6576 16.2709 20.6953 16.0643 20.6629 15.8502L20.5233 14.929C20.2087 12.853 19.4313 10.8743 18.2484 9.13952L18.0669 8.87333C17.6944 8.32692 17.0758 8 16.4145 8L15 8V8.71577ZM13 8.83C13 7.95898 12.9992 7.36686 12.9612 6.90945C12.9242 6.46402 12.8572 6.23663 12.7748 6.07805C12.5851 5.71277 12.2872 5.41493 11.9219 5.22517C11.7634 5.1428 11.536 5.07578 11.0905 5.03879C10.6331 5.0008 10.041 5 9.17 5H6.83C5.95898 5 5.36686 5.0008 4.90945 5.03879C4.46402 5.07578 4.23663 5.1428 4.07805 5.22517C3.71277 5.41493 3.41493 5.71277 3.22517 6.07805C3.1428 6.23663 3.07578 6.46402 3.03879 6.90945C3.0008 7.36686 3 7.95898 3 8.83V15C3 15.8316 3.50759 16.5447 4.22985 16.8463C4.68191 15.7621 5.75196 15 7 15C8.30622 15 9.41746 15.8348 9.8293 17H13V8.83ZM8 18C8 17.4477 7.55229 17 7 17C6.44772 17 6 17.4477 6 18C6 18.5523 6.44772 19 7 19C7.55229 19 8 18.5523 8 18ZM17 18C17 17.4477 17.4477 17 18 17C18.5523 17 19 17.4477 19 18C19 18.5523 18.5523 19 18 19C17.4477 19 17 18.5523 17 18Z" fill="#ffffff"></path>
                </g>
            </svg>
            <h2>Nuevo Vehículo</h2>
            <p class="lead text-center" style="margin-left: 8rem; margin-right: 8rem;">
                Por favor, proceda a completar el siguiente formulario con los detalles del nuevo vehículo que desea agregar. Podrá modificar sus datos una vez se haya creado con éxito.
            </p>
        </div>
    </section>

    <!-- Seccion de formulario Agregar -->
    <section th:fragment="agregar">
        <div class="d-flex justify-content-center">
            <div style="max-width: 40rem;">

                <!-- Información General -->
                <h4 class="mb-3">Información General</h4>
                <form th:action="@{/vehiculos/add}"
                    method="POST"
                    class="needs-validation" novalidate="">
                    <div class="row g-3">

                        <!-- Marca -->
                        <div class="col-sm-6">
                            <label for="marca" class="form-label">Marca</label>
                            <input type="text" class="form-control" id="marca" name="marca" placeholder="Toyota" value="" required="">
                            <div class="invalid-feedback">
                                Una marca válido es requerido.
                            </div>
                        </div>

                        <!-- Modelo -->
                        <div class="col-sm-6">
                            <label for="modelo" class="form-label">Modelo</label>
                            <input type="text" class="form-control" id="modelo" name="modelo" placeholder="Hilux" value="" required="">
                            <div class="invalid-feedback">
                                Un modelo válido es requerido.
                            </div>
                        </div>

                        <!-- Placa -->
                        <div class="col-sm-6">
                            <label for="placa" class="form-label">Placa</label>
                            <div class="input-group has-validation">
                                <span class="input-group-text">ID</span>
                                <input type="text" class="form-control" id="placa" name="placa" placeholder="XXX-000" required="">
                                <div class="invalid-feedback">
                                    Una placa válida es requerido.
                                </div>
                            </div>
                          </div>

                        <!-- Anio -->
                        <div class="col-sm-6">
                            <label for="anio" class="form-label">Año</label>
                            <input type="number" min="1900" max="2099" class="form-control" id="anio" name="anio" placeholder="2020" value="" required="">
                            <div class="invalid-feedback">
                                Una año válido es requerida.
                            </div>
                        </div>

                        <hr class="my-4">

                        <button class="w-100 btn btn-primary btn-lg" type="submit">Crear vehículo</button>
                </form>
            </div>
        </div>
    </section>

    <!-- Seccion de ver listado -->
    <section th:fragment="ver">
        <div class="d-flex justify-content-center">
            <div th:if="${vehiculos != null and !vehiculos.empty}" style="width: 80rem;">
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Modelo</th>
                        <th scope="col">Placa</th>
                        <th scope="col">Año</th>
                        <th scope="col">Acciones</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr th:each="vehiculo : ${vehiculos}">
                        <th scope="row">[[${vehiculo.idVehiculo}]]</th>
                        <td>[[${vehiculo.marca}]]</td>
                        <td>[[${vehiculo.modelo}]]</td>                        
                        <td>[[${vehiculo.placa}]]</td>
                        <td>[[${vehiculo.anio}]]</td>
                        <td>
                            <a th:href="@{/vehiculos/editar/} + ${vehiculo.idVehiculo}" class="btn btn-secondary">Editar</a>
                            <a th:href="@{/vehiculos/eliminar/} + ${vehiculo.idVehiculo}" class="btn btn-danger">Eliminar</a>
                        </td>
                      </tr>
                    </tbody>
                  </table>
            </div>
            <div th:if="${vehiculos == null or vehiculos.empty}">
                <p class="lead text-center" style="margin-left: 8rem; margin-right: 8rem;">
                    No se encontraron vehículos registrados :(
                </p>
            </div>
        </div>
    </section>

    <!-- Seccion titulo Actualizar -->
    <section th:fragment="titulo-actualizar">
        <div class="py-2 text-center">
            <svg class="d-block mx-auto mb-2" width="72px" height="72px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path fill-rule="evenodd" clip-rule="evenodd" d="M6.78799 3C5.96948 2.99999 5.29393 2.99998 4.74393 3.04565C4.17258 3.0931 3.64774 3.19496 3.1561 3.45035C2.42553 3.82985 1.82985 4.42553 1.45035 5.1561C1.19496 5.64774 1.0931 6.17258 1.04565 6.74393C0.999977 7.29393 0.999988 7.96946 1 8.78798V15C1 16.9138 2.344 18.5136 4.13963 18.9072C4.52413 20.1206 5.65937 21 7 21C8.30622 21 9.41746 20.1652 9.8293 19H15.1707C15.5825 20.1652 16.6938 21 18 21C19.4031 21 20.5812 20.0368 20.9092 18.7355C22.0899 18.2016 22.849 16.9282 22.6403 15.5506L22.5007 14.6294C22.1412 12.2568 21.2527 9.99549 19.9009 8.01285L19.7194 7.74665C18.9743 6.65384 17.7372 6 16.4145 6H15C14.9494 6 14.8992 6.00188 14.8495 6.00558C14.7854 5.71074 14.6911 5.42833 14.5497 5.1561C14.1702 4.42553 13.5745 3.82985 12.8439 3.45035C12.3523 3.19496 11.8274 3.0931 11.2561 3.04565C10.7061 2.99998 10.0305 2.99999 9.21202 3H6.78799ZM15 8.71577C15 8.73971 15 8.76377 15 8.78795V17H15.1707C15.5825 15.8348 16.6938 15 18 15C19.089 15 20.0425 15.5803 20.5682 16.4485C20.6576 16.2709 20.6953 16.0643 20.6629 15.8502L20.5233 14.929C20.2087 12.853 19.4313 10.8743 18.2484 9.13952L18.0669 8.87333C17.6944 8.32692 17.0758 8 16.4145 8L15 8V8.71577ZM13 8.83C13 7.95898 12.9992 7.36686 12.9612 6.90945C12.9242 6.46402 12.8572 6.23663 12.7748 6.07805C12.5851 5.71277 12.2872 5.41493 11.9219 5.22517C11.7634 5.1428 11.536 5.07578 11.0905 5.03879C10.6331 5.0008 10.041 5 9.17 5H6.83C5.95898 5 5.36686 5.0008 4.90945 5.03879C4.46402 5.07578 4.23663 5.1428 4.07805 5.22517C3.71277 5.41493 3.41493 5.71277 3.22517 6.07805C3.1428 6.23663 3.07578 6.46402 3.03879 6.90945C3.0008 7.36686 3 7.95898 3 8.83V15C3 15.8316 3.50759 16.5447 4.22985 16.8463C4.68191 15.7621 5.75196 15 7 15C8.30622 15 9.41746 15.8348 9.8293 17H13V8.83ZM8 18C8 17.4477 7.55229 17 7 17C6.44772 17 6 17.4477 6 18C6 18.5523 6.44772 19 7 19C7.55229 19 8 18.5523 8 18ZM17 18C17 17.4477 17.4477 17 18 17C18.5523 17 19 17.4477 19 18C19 18.5523 18.5523 19 18 19C17.4477 19 17 18.5523 17 18Z" fill="#ffffff"></path>
                </g>
            </svg>
            <h2>Editar Vehículo</h2>
            <p class="lead text-center" style="margin-left: 8rem; margin-right: 8rem;">
                Por favor, ingrese los nuevos datos del vehículo. Una vez que haya completado el formulario, haga clic en el botón "Editar" para actualizar la información.
            </p>
        </div>
    </section>

     <!-- Seccion de formulario Actualizar -->
     <section th:fragment="actualizar">
        <div class="d-flex justify-content-center">
            <div style="max-width: 40rem;">

                <!-- Información General -->
                <h4 class="mb-3">Información General</h4>
                <form th:action="@{/vehiculos/update}"
                    method="POST"
                    class="needs-validation" novalidate="">
                    <div class="row g-3">
                        <!-- ID -->
                        <input type="text" class="form-control" hidden name="idVehiculo" id="idVehiculo" th:value="${idVehiculo}" placeholder="" required="">

                        <!-- Marca -->
                        <div class="col-sm-6">
                            <label for="marca" class="form-label">Marca</label>
                            <input type="text" class="form-control" id="marca" name="marca" placeholder="Toyota" th:value="${marca}" required="">
                            <div class="invalid-feedback">
                                Una marca válido es requerido.
                            </div>
                        </div>

                        <!-- Modelo -->
                        <div class="col-sm-6">
                            <label for="modelo" class="form-label">Modelo</label>
                            <input type="text" class="form-control" id="modelo" name="modelo" placeholder="Hilux" th:value="${modelo}" required="">
                            <div class="invalid-feedback">
                                Un modelo válido es requerido.
                            </div>
                        </div>

                        <!-- Placa -->
                        <div class="col-sm-6">
                            <label for="placa" class="form-label">Placa</label>
                            <div class="input-group has-validation">
                                <span class="input-group-text">ID</span>
                                <input type="text" class="form-control" id="placa" name="placa" th:value="${placa}" placeholder="XXX-000" required="">
                                <div class="invalid-feedback">
                                    Una placa válida es requerido.
                                </div>
                            </div>
                          </div>

                        <!-- Anio -->
                        <div class="col-sm-6">
                            <label for="anio" class="form-label">Año</label>
                            <input type="number" min="1900" max="2099" class="form-control" id="anio" name="anio" placeholder="2020" th:value="${anio}" required="">
                            <div class="invalid-feedback">
                                Una año válido es requerida.
                            </div>
                        </div>

                        <hr class="my-4">

                        <button class="w-100 btn btn-primary btn-lg" type="submit">Editar</button>
                </form>
            </div>
        </div>
    </section>

</body>

</html>